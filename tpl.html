<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta http-equiv="x-dns-prefetch-control" content="on">
	<link rel="dns-prefetch" href="https://source.unsplash.com/">
	<title>罗网</title>
	<link rel="icon" type="image/png" href="https://cn.bing.com/sa/simg/favicon-trans-bg-blue-mg.ico" />
	<meta name="baidu-site-verification" content="code-yTzSUwykDx" />
</head>

<body>
	<main id="main">
		<div id="sform" class="form-inline" role="form">
			<input id="search" type="text" placeholder="find it" autofocus onfocus="this.placeholder=''" onblur="this.placeholder='find it'" autocomplete="off" class="form-control input-lg">
	    	        <button id="searchengine" data-url1=`https://www.baidu.com/s?wd=${query} -广告 -推广` value="百度" onclick="FindData(event);">百度</button>
	    	</div>	
           <div class="yanhua">
            </div>	 		
	<div class="items">
    </div> 
 </main> 
  <nav class="columNav">
 </nav> 
<template>
${data.map(function(obj, index){
    return `<input type="submit" value=${obj.title} class="btn btn-primary" data-url=${obj.url} onclick="change(event)" >`
}).join('')
}
</template>

<script>
let searchengine=document.getElementById('searchengine'),
    query=document.getElementById('search').value;
function change(event){
    let search=document.getElementById('search'),
        query = search.value,
        value = event.target.value;
    searchengine.innerHTML=value;
    searchengine.value = query;
    const url = event.target.dataset['url']
    searchengine.dataset["url1"]=url;
    var str =  'return ' + '`'+url+'`'
    let func = new Function('query', str);
    const loc = func(query);
    window.open(loc);
}
function FindData(event){
    const url = event.target.dataset['url1'],
	  query = event.target.value,
          str =  'return ' + '`'+url+'`'
    let func = new Function('query', str);
    window.open(func(query));
}


// 生成navs
const cache = document.getElementsByClassName('items')[0];
const _ = cache.cloneNode(true);
const navs = cache.children
let ul = ''

Array.prototype.forEach.call(navs,(item,index)=>{
	ul +=(`
	<li onclick="changeRender('${item.className}')">${item.className}</li>
	`)

})


document.getElementsByClassName('columNav')[0].innerHTML = ul;

let currentKey = ''
function changeRender(key){
	if(currentKey !==key){
		const a = _.getElementsByClassName(key)[0]
		if(a){
		 document.getElementsByClassName('items')[0].innerHTML = a.innerHTML
		}
	}
	currentKey = key;
}
</script>
</body>
</html>
